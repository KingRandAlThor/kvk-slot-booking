<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% block title %}KINGSHOT{% endblock %}</title>
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    {% if theme == 'christmas' %}
    <link rel="stylesheet" href="/static/style-christmas.css?v=5">
    <link rel="stylesheet" href="/static/compact.css?v=5">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ„</text></svg>">
    {% else %}
    <link rel="stylesheet" href="/static/style.css?v=5">
    <link rel="stylesheet" href="/static/compact.css?v=5">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‘‘</text></svg>">
    {% endif %}
  </head>
  <body>
    {% if theme == 'christmas' %}
    <!-- Snowflakes -->
    <div class="snowflake" style="left: 5%; animation-duration: 8s; animation-delay: 0s;">â„</div>
    <div class="snowflake" style="left: 15%; animation-duration: 12s; animation-delay: 2s;">â…</div>
    <div class="snowflake" style="left: 25%; animation-duration: 10s; animation-delay: 4s;">â†</div>
    <div class="snowflake" style="left: 35%; animation-duration: 14s; animation-delay: 1s;">â„</div>
    <div class="snowflake" style="left: 45%; animation-duration: 9s; animation-delay: 3s;">â…</div>
    <div class="snowflake" style="left: 55%; animation-duration: 11s; animation-delay: 5s;">â†</div>
    <div class="snowflake" style="left: 65%; animation-duration: 13s; animation-delay: 2s;">â„</div>
    <div class="snowflake" style="left: 75%; animation-duration: 8s; animation-delay: 4s;">â…</div>
    <div class="snowflake" style="left: 85%; animation-duration: 10s; animation-delay: 0s;">â†</div>
    <div class="snowflake" style="left: 95%; animation-duration: 12s; animation-delay: 3s;">â„</div>
    <!-- Falling Gifts -->
    <div class="gift" style="left: 8%; animation-duration: 15s; animation-delay: 1s;">ğŸ</div>
    <div class="gift" style="left: 22%; animation-duration: 18s; animation-delay: 4s;">ğŸ€</div>
    <div class="gift" style="left: 38%; animation-duration: 20s; animation-delay: 7s;">ğŸ</div>
    <div class="gift" style="left: 52%; animation-duration: 16s; animation-delay: 2s;">ğŸ„</div>
    <div class="gift" style="left: 68%; animation-duration: 22s; animation-delay: 5s;">ğŸ</div>
    <div class="gift" style="left: 82%; animation-duration: 17s; animation-delay: 0s;">ğŸ€</div>
    <div class="gift" style="left: 92%; animation-duration: 19s; animation-delay: 8s;">ğŸ</div>
    <!-- Falling Rydak Heads -->
    <img class="rydak" src="/static/Rydak.JPEG.png" style="left: 10%; animation-duration: 12s; animation-delay: 0s;">
    <img class="rydak" src="/static/Rydak.JPEG.png" style="left: 30%; animation-duration: 16s; animation-delay: 3s;">
    <img class="rydak" src="/static/Rydak.JPEG.png" style="left: 50%; animation-duration: 14s; animation-delay: 6s;">
    <img class="rydak" src="/static/Rydak.JPEG.png" style="left: 70%; animation-duration: 18s; animation-delay: 2s;">
    <img class="rydak" src="/static/Rydak.JPEG.png" style="left: 90%; animation-duration: 13s; animation-delay: 5s;">
    {% endif %}
    
    <!-- Rand on vacation - BLOCKING OVERLAY -->
    <div id="vacationOverlay" class="vacation-overlay">
      <div class="dancing-man">ğŸ•ºğŸ’ƒğŸ•º</div>
      <div class="vacation-badge">ğŸ‘‘ RAND IS ON VACATION ğŸ–ï¸<br>The site is closed! ğŸŒ´</div>
      <button class="remove-vacation-btn" onclick="removeVacation()">âš”ï¸ FORCE ACCESS âš”ï¸</button>
    </div>
    
    <script>
      function removeVacation() {
        const password = prompt('ğŸ” Enter the password to access the site:');
        if (password === 'ArteJTM<3') {
          document.getElementById('vacationOverlay').classList.add('hidden');
          alert('âœ… Access granted! Welcome!');
        } else if (password !== null) {
          alert('âŒ Incorrect password! The site remains blocked.');
        }
      }
    </script>
    
    <div class="container">
      {% block content %}{% endblock %}
      <footer>
        {% if theme == 'christmas' %}
        ğŸ„ KINGSHOT Slot Booking Â© 2025 ğŸ… Merry Christmas! ğŸ„
        {% else %}
        ğŸ‘‘ KINGSHOT Slot Booking Â© 2025 ğŸ‘‘
        {% endif %}
      </footer>
    </div>
    
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
      // Initialiser Flatpickr pour tous les inputs date et time
      document.addEventListener('DOMContentLoaded', function() {
        // Date pickers
        flatpickr('input[type="date"]', {
          dateFormat: 'Y-m-d',
          altInput: true,
          altFormat: 'F j, Y',
          theme: 'dark',
          static: true
        });
        
        // Time pickers
        flatpickr('input[type="time"]', {
          enableTime: true,
          noCalendar: true,
          dateFormat: 'H:i',
          time_24hr: true,
          theme: 'dark',
          static: true
        });
      });
    </script>
  </body>
</html>
